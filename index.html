<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Seven0 by qiajigou</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Seven0</h1>
      <h2 class="project-tagline">Yet another wtf project.</h2>
      <a href="https://github.com/qiajigou/seven0" class="btn">View on GitHub</a>
      <a href="https://github.com/qiajigou/seven0/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/qiajigou/seven0/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="seven0" class="anchor" href="#seven0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>seven0</h1>

<p>This project is a tiny gRPC utils project. gRPC is using protobuf, everytime change the protobuf, we have to regencode.</p>

<p>And if we want more options in protobuf, such as options, we will die.</p>

<p>Fake code below:</p>

<div class="highlight highlight-source-protobuf"><pre>syntax = "proto3";

<span class="pl-k">import</span> <span class="pl-s">"google/protobuf/descriptor.proto"</span>;

extend google.protobuf.MethodOptions {
    MO mo = 50006;
}

<span class="pl-k">message</span> <span class="pl-en">MO</span> {
    string method = 1;
    string url    = 2;
}

<span class="pl-k">message</span> <span class="pl-en">HelloRequest</span> {
    string say    = 1;
}

<span class="pl-k">message</span> <span class="pl-en">HelloResponse</span> {
    string reply  = 1;
}

<span class="pl-k">service</span> <span class="pl-en">SimpleService</span> {

    <span class="pl-c">// this is http://c3po/service/SimpleService/call/Hello</span>
    rpc Hello(HelloRequest) returns (HelloResponse) {
        <span class="pl-k">option</span> (mo)<span class="pl-e">.method</span> = <span class="pl-s">"GET"</span>;
        <span class="pl-k">option</span> (mo)<span class="pl-e">.url</span>    = <span class="pl-s">"/service/r2d2/hellp"</span>
    };

}</pre></div>

<p>The default protobuf plugin which supported by gRPC and protobuf does not support this feature.</p>

<p>Most of the time we don't need this tool in our projects. BUT. If we have a lots of gRPC server, or just want a gRPC Python client, this WILL help.</p>

<h1>
<a id="client" class="anchor" href="#client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Client</h1>

<p>Everytime we write a protobuf file, and we want a gRPC python client.</p>

<p>we could use this tool to generate a gRPC python client.</p>

<h1>
<a id="server" class="anchor" href="#server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Server</h1>

<p>And of course, we could generate Server by using this tool.</p>

<p>And we could generate Server also support HTTP protocol with customized options.</p>

<h1>
<a id="grpc-gateway" class="anchor" href="#grpc-gateway" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>gRPC gateway</h1>

<p>We could use <a href="https://github.com/qiajigou/c3po-grpc-gateway">c3po-grpc-gateway</a> to translate gRPC to HTTP protocol, so we need a dynamic client. This will help.</p>

<h1>
<a id="grpc-server" class="anchor" href="#grpc-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>gRPC server</h1>

<p>After generate the server side code, we need a gunicorn like gRPC server handler, <a href="https://github.com/qiajigou/grma">grma</a> should help.</p>

<p>This tool make sure we don't need to write a server and client everytime.</p>

<h1>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use</h1>

<p>Goto example and run:</p>

<pre><code>./gencode.sh
</code></pre>

<p>You should find out the rpc client and pb files.</p>

<h1>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h1>

<p>This is in early develop.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/qiajigou/seven0">Seven0</a> is maintained by <a href="https://github.com/qiajigou">qiajigou</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
